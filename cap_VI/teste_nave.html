<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="./animacao.js"></script>
    <script src="./teclado.js"></script>
    <script src="./nave.js"></script>
    <title>Teste-nave</title>
  </head>
  <body>
    <canvas id="canvas_nave" width="500" height="500"></canvas>
    <script>
      //canvas e contexto
      var canvas = document.getElementById("canvas_nave");
      var context = canvas.getContext("2d");

      //teclado e animação
      var teclado = new Teclado(document);
      var animacao = new Animacao(context);

      //sprite da nave e sua imagem
      var imgNave = new Image();
      imgNave.src = "./img/nave.png";
      var nave = new Nave(context, teclado, imgNave);
      animacao.novoSprite(nave);

      //quando carregar a imagem, iniciar a animação
      imgNave.onload = () => {
        //centralizada em x e alinhada em y
        nave.x = canvas.width / 2 - imgNave.width / 2;
        nave.y = canvas.height - imgNave.height;
        nave.velocidade = 5;
        animacao.ligar();
      };
    </script>
  </body>
</html>
